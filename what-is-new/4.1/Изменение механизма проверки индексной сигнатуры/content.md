## Изменение механизма проверки индексной сигнатуры

Поскольку механизм позволяющий определение _индексной сигнатуры_ не способен отслеживать идентификаторы (имена) полей определенных динамически, такой подход не считается типобезопасным.

`````ts
type T = {
    [key: string]: number | string;
}

function f(p: T) {
    /**
     * Обращение к несуществующим полям
     */
    p.bad.toString(); // Ok -> Ошибка времени исполнения
    p[Math.random()].toString(); // Ok -> Ошибка времени исполнения
}
`````

Для решения данной проблемы был создан механизм активируемый с помощью нового флага `--noUncheckedIndexedAccess` ожидающий в качестве значения `true` либо `false`. Активация механизма позволяет обращаться к динамическим полям только после подтверждения их наличия в объекте, а также совместно при совместном использовании с такими операторами, как оператор опциональной последовательности `?.` и опциональный оператор `!.`.

`````json
// @filename: tsconfig.json

{
    "compilerOptions": {
        "noUncheckedIndexedAccess": true
    }
}
`````

`````ts
type T = {
  [key: string]: number | string;
}


function f(p: T) {
  /**
   * Обращение к несуществующим полям
   */
  p.bad.toString(); // Error -> Object is possibly 'undefined'.ts(2532)
  p[Math.random()].toString(); // Error -> Object is possibly 'undefined'.ts(2532)


  // Проверка наличия поля bad
  if("bad" in p){
      p.bad?.toString(); // Ok
  }

  // Использование опционального оператора
  p[Math.random()]!.toString(); // Ok -> ошибка во время выполнения

  p[Math.random()]?.toString();  // Ok -> Ошибка не возникнет
}
`````

Кроме этого, влияние данного механизма распространяется также и на массивы. В случае с массивом не получится избежать аналогичной ошибки при попытке обращения к его элементам при помощи индексной сигнатуры.

`````ts
function f(array: string[]) {
    for(let i = 0; i < array.length; i++){
        array[i].toString(); // Error -> Object is possibly 'undefined'.
    }
}
`````

Поскольку данный флаг может потребовать внесения значительных изменений в существующих проектах, он не был включён в группировку `--strict` и активируется индивидуально.
