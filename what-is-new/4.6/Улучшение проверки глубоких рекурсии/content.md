## Улучшение проверки глубоких рекурсии

_TypeScript_ реализует _структурную типизацию_ по которой типы считаются совместимыми на основании совместимости их членов. Эти правила распространяются и на типизированные типы (генерики), что вызывает более сложные вопросы, как например совместимость рекурсивных типов.


`````ts
interface A<T>{
    prop: A<T>;
}
interface B<T>{
    prop: B<T>;
}

function f(a: A<number>, b: B<string>){
    /**
     * По факту типы параметров a и b не совместимы,
     * но это невозможно выяснить без рекурсивного равертывания.
     */
}
`````

Поскольку операции рекурсивного развертывания могут быть очень затратными, алгоритм имеет ограничения на глубину рекурсии, что часто приводит к несовпадению реального с ожидаемым.

`````ts
interface R<T> {
    prop: T;
}

declare let x: R<R<R<R<R<R<string>>>>>>;
declare let y: R<R<R<R<R<string>>>>>;

x = y; // Ok до v4.6 и Error начиная с v4.6
`````

Поэтому начиная с текущей версии алгоритм проверки глубоких рекурсий был улучшен, как с технической стороны (стал более точным), так и по производительности (на 50% быстрее).
